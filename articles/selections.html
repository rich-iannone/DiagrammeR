<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="DiagrammeR">
<title>Selections • DiagrammeR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Selections">
<meta property="og:description" content="DiagrammeR">
<meta property="og:image" content="/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DiagrammeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.10</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a>
    <a class="dropdown-item" href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a>
    <a class="dropdown-item" href="../articles/selections.html">Selections</a>
    <a class="dropdown-item" href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a>
    <a class="dropdown-item" href="../articles/traversals.html">Traversals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rich-iannone/DiagrammeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">



<script src="selections_files/htmlwidgets-1.6.2/htmlwidgets.js"></script><script src="selections_files/viz-1.8.2/viz.js"></script><link href="selections_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="selections_files/grViz-binding-1.0.10/grViz.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Selections</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/HEAD/vignettes/selections.Rmd" class="external-link"><code>vignettes/selections.Rmd</code></a></small>
      <div class="d-none name"><code>selections.Rmd</code></div>
    </div>

    
    
<p>Occasionally, you’ll want to operate on a select group of nodes or
edges. Some functions affect a single node or edge while others (or,
sometimes, the same functions) operate on all nodes or edges in a graph.
Selections allow you to target specified nodes or edges and then apply
specialized functions to operate on just those selected entities. Most
of the selection functions support rudimentary set operations across
several calls of the selection functions (i.e., for the union,
intersection, or difference between selection sets of nodes or
edges).</p>
<div class="section level2">
<h2 id="creating-a-node-selection">Creating a Node Selection<a class="anchor" aria-label="anchor" href="#creating-a-node-selection"></a>
</h2>
<p>Selecting nodes in a graph is accomplished by targeting a specific
node attribute (e.g., <code>type</code>, <code>label</code>, styling
attributes such as <code>width</code>, if available, or arbitrary data
values available for nodes).</p>
<p>As with all of the <code>select_*()</code> functions, the graph
argument is the first in the function signature. This is beneficial for
forward-piping the graph in a pipeline and propagating a series of
tranformations on the graph. There may be situations where several types
of selections be applied to the graphs nodes or edges (say, selecting
all nodes of a graph in the first step and then subtracting nodes of a
specific type from that group) and this is where the pipeline paradigm
becomes incredibly useful, and, as an added bonus, easy to read and to
reason about.</p>
<p>The main handle on selectivity for the <code><a href="../reference/select_nodes.html">select_nodes()</a></code>
function is through the node attributes of the graph’s internal NDF,
which contains columns for all possible node attributes in the graph. By
providing an expression in <code>conditions</code>, nodes will be placed
in the active selection where they are <code>TRUE</code>. Here are two
common types of expressions that work well for the
<code>conditions</code> argument:</p>
<ol style="list-style-type: decimal">
<li>a logical expression with a comparison operator (<code>&gt;</code>,
<code>&lt;</code>, <code>==</code>, or <code>!=</code>)</li>
<li>a regular expression for filtering via string matching</li>
</ol>
<p>Let’s create a simple graph with four nodes that have numeric
<code>data</code> values. Then, we’ll inspect the graph’s internal NDF
to see where we are starting from.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a node data frame</span></span>
<span><span class="va">ndf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_node_df.html">create_node_df</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">9.7</span>, <span class="fl">8.5</span>, <span class="fl">2.2</span>, <span class="fl">6.0</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new graph based on the ndf</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span>nodes_df <span class="op">=</span> <span class="va">ndf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the graph's NDF</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label data</span></span>
<span><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;  9.7</span></span>
<span><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;  8.5</span></span>
<span><span class="co">#&gt; 3  3 &lt;NA&gt;  &lt;NA&gt;  2.2</span></span>
<span><span class="co">#&gt; 4  4 &lt;NA&gt;  &lt;NA&gt;  6.0</span></span></code></pre></div>
<p>In the first example, nodes will be selected based on a logical
expression operating on a collection of numeric values. To examine the
result of the selection, the <code><a href="../reference/get_node_df_ws.html">get_node_df_ws()</a></code> will be used.
This function will display a table for the active selection of nodes in
the graph (like <code><a href="../reference/get_node_df.html">get_node_df()</a></code>, but with a subset of
nodes).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select nodes where the `data` attribute</span></span>
<span><span class="co"># has a value greater than 7.0 (it's the</span></span>
<span><span class="co"># first 2 nodes)</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="va">data</span> <span class="op">&gt;</span> <span class="fl">7.0</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label data</span></span>
<span><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;  9.7</span></span>
<span><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;  8.5</span></span></code></pre></div>
<p>A selection of nodes can be obtained through a match using a regular
expression operating on a collection of character-based values (the node
attribute that is named <code>fruits</code>). This uses the
<code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code> function in the expression supplied to
<code>conditions</code>. The regular expression to use is
<code>^ap</code>, where the <code>^</code> denotes the beginning of the
text to the parsed.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a node data frame</span></span>
<span><span class="va">ndf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_node_df.html">create_node_df</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">4</span>,</span>
<span>    fruits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"apples"</span>, <span class="st">"apricots"</span>,</span>
<span>      <span class="st">"bananas"</span>, <span class="st">"plums"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new graph based on the ndf</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span>nodes_df <span class="op">=</span> <span class="va">ndf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Select nodes where the `fruits`</span></span>
<span><span class="co"># attribute has a match on the first</span></span>
<span><span class="co"># letters being `ap` (the first 2 nodes)</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^ap"</span>, <span class="va">fruits</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label   fruits</span></span>
<span><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;   apples</span></span>
<span><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt; apricots</span></span></code></pre></div>
<p>The situation may arise when a more specialized match needs to be
made (i.e., matching this but not that, or, matching two different types
of things). This is where the <code>set_op</code> argument can become
useful. When a selection of nodes is obtained using
<code><a href="../reference/select_nodes.html">select_nodes()</a></code> (or any of the other <code>select_*()</code>
functions that operate on nodes), the selection is stored in the graph
object. This is seen in the above examples where
<code><a href="../reference/get_selection.html">get_selection()</a></code> was used to verify which nodes were in the
selection. Because the selection is retained (at least until
<code><a href="../reference/clear_selection.html">clear_selection()</a></code> is called, or, a selection of edges is
made), multiple uses <code><a href="../reference/select_nodes.html">select_nodes()</a></code> can modify the set of
selected nodes depending on the option provided in the
<code>set_op</code> argument. These set operations are:</p>
<ul>
<li>
<code>union</code>: creates a union of selected nodes in consecutive
operations that create a selection of nodes (this is the default
option)</li>
<li>
<code>intersect</code>: modifies the list of selected nodes such
that only those nodes common to both consecutive node selection
operations will retained</li>
<li>
<code>difference</code>: modifies the list of selected nodes such
that the only nodes retained are those that are different in the second
node selection operation compared to the first</li>
</ul>
<p>These set operations behave exactly as the base R functions:
<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">union()</a></code>,
<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">intersect()</a></code>/<code>intersection()</code>, and
<code><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff()</a></code> (which are actually used internally).
Furthermore, most of the <code>select_*()</code> functions contain the
<code>set_op</code> argument, so, they behave the same way with regard
to modifying the node or edge selection in a pipeline of selection
operations. As examples are important in fully understanding how these
can work for more complex selections, quite a few will be provided
here.</p>
<p>The example graph will now be a bit more complex. It will contain 9
nodes, of three different <code>type</code>s (<code>fruit</code>,
<code>veg</code>, and <code>nut</code>). The <code>label</code> node
attribute has the name of the food, and the <code>count</code> attribute
contains arbitrary numeric values.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a node data frame</span></span>
<span><span class="va">ndf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_node_df.html">create_node_df</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">9</span>,</span>
<span>    type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"fruit"</span>, <span class="st">"fruit"</span>, <span class="st">"fruit"</span>,</span>
<span>      <span class="st">"veg"</span>, <span class="st">"veg"</span>, <span class="st">"veg"</span>,</span>
<span>      <span class="st">"nut"</span>, <span class="st">"nut"</span>, <span class="st">"nut"</span><span class="op">)</span>,</span>
<span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="st">"pineapple"</span>, <span class="st">"apple"</span>, <span class="st">"apricot"</span>,</span>
<span>      <span class="st">"cucumber"</span>, <span class="st">"celery"</span>, <span class="st">"endive"</span>,</span>
<span>      <span class="st">"hazelnut"</span>, <span class="st">"almond"</span>, <span class="st">"chestnut"</span><span class="op">)</span>,</span>
<span>    count <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">6</span>, <span class="fl">3</span>, <span class="fl">8</span>, <span class="fl">7</span>, <span class="fl">2</span>, <span class="fl">6</span>, <span class="fl">9</span>, <span class="fl">9</span>, <span class="fl">7</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new graph based on the ndf</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span>nodes_df <span class="op">=</span> <span class="va">ndf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the graph's NDF</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  type     label count</span></span>
<span><span class="co">#&gt; 1  1 fruit pineapple     6</span></span>
<span><span class="co">#&gt; 2  2 fruit     apple     3</span></span>
<span><span class="co">#&gt; 3  3 fruit   apricot     8</span></span>
<span><span class="co">#&gt; 4  4   veg  cucumber     7</span></span>
<span><span class="co">#&gt; 5  5   veg    celery     2</span></span>
<span><span class="co">#&gt; 6  6   veg    endive     6</span></span>
<span><span class="co">#&gt; 7  7   nut  hazelnut     9</span></span>
<span><span class="co">#&gt; 8  8   nut    almond     9</span></span>
<span><span class="co">#&gt; 9  9   nut  chestnut     7</span></span></code></pre></div>
<p>Let’s successively use two <code><a href="../reference/select_nodes.html">select_nodes()</a></code> calls to
select all those foods that either begin with <code>c</code> or end with
<code>e</code>. Because this is an <em>OR</em> set, we will use the
<code>union</code> set operation in the second call of
<code><a href="../reference/select_nodes.html">select_nodes()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select all foods that either begin</span></span>
<span><span class="co"># with `c` or ending with `e`</span></span>
<span><span class="va">graph_1</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^c"</span>, <span class="va">label</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"e$"</span>, <span class="va">label</span><span class="op">)</span>,</span>
<span>    set_op <span class="op">=</span> <span class="st">"union"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph_1</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  type     label count</span></span>
<span><span class="co">#&gt; 1  1 fruit pineapple     6</span></span>
<span><span class="co">#&gt; 2  2 fruit     apple     3</span></span>
<span><span class="co">#&gt; 3  4   veg  cucumber     7</span></span>
<span><span class="co">#&gt; 4  5   veg    celery     2</span></span>
<span><span class="co">#&gt; 5  6   veg    endive     6</span></span>
<span><span class="co">#&gt; 6  9   nut  chestnut     7</span></span></code></pre></div>
<p>The <code>conditions</code> don’t need to be related. In the first
below, it’s a matching expression using <code><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl()</a></code>. The second
is filtering to those nodes with <code>count &lt; 5</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select any food beginning with `a` and</span></span>
<span><span class="co"># having a count less than 5</span></span>
<span><span class="va">graph_2</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"^a"</span>, <span class="va">label</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="va">count</span> <span class="op">&lt;</span> <span class="fl">5</span>,</span>
<span>    set_op <span class="op">=</span> <span class="st">"intersect"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph_2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  type label count</span></span>
<span><span class="co">#&gt; 1  2 fruit apple     3</span></span></code></pre></div>
<p>The following example contains a pair of <code><a href="../reference/select_nodes.html">select_nodes()</a></code>
statements, where the first filters nodes to a <code>fruit</code> group
(<code>type == "fruit"</code>) and then excludes a subset of these nodes
(any fruit containing “apple” in the name) using the
<code>set_op = "difference"</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select any fruit not containing</span></span>
<span><span class="co"># `apple` in its name</span></span>
<span><span class="va">graph_3</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="va">type</span> <span class="op">==</span> <span class="st">"fruit"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="va">label</span><span class="op">)</span>,</span>
<span>    set_op <span class="op">=</span> <span class="st">"difference"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph_3</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id  type   label count</span></span>
<span><span class="co">#&gt; 1  3 fruit apricot     8</span></span></code></pre></div>
<p>There is an additional filtering option available as the
<code>nodes</code> argument. Here, a vector of node ID values can be
supplied and this will indicate to the function that only that subset of
nodes will be considered for <code><a href="../reference/select_nodes.html">select_nodes()</a></code>. Note that, if
nothing is provided in <code>conditions</code> and <code>nodes</code> is
given a vector of node ID values, it will be those very nodes that will
make up the selection in this function call. While this is convenient
and often a good method for selecting nodes (so long as one knows which
node IDs need to be selected), the function
<code><a href="../reference/select_nodes_by_id.html">select_nodes_by_id()</a></code> handles this use case more directly
(as it only filters based on its <code>nodes</code> argument).</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a node data frame</span></span>
<span><span class="va">ndf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_node_df.html">create_node_df</a></span><span class="op">(</span></span>
<span>    n <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">5</span>, <span class="fl">0.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new graph based on the ndf</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span>nodes_df <span class="op">=</span> <span class="va">ndf</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the graph's NDF</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;    id type label data</span></span>
<span><span class="co">#&gt; 1   1 &lt;NA&gt;  &lt;NA&gt;  0.5</span></span>
<span><span class="co">#&gt; 2   2 &lt;NA&gt;  &lt;NA&gt;  1.0</span></span>
<span><span class="co">#&gt; 3   3 &lt;NA&gt;  &lt;NA&gt;  1.5</span></span>
<span><span class="co">#&gt; 4   4 &lt;NA&gt;  &lt;NA&gt;  2.0</span></span>
<span><span class="co">#&gt; 5   5 &lt;NA&gt;  &lt;NA&gt;  2.5</span></span>
<span><span class="co">#&gt; 6   6 &lt;NA&gt;  &lt;NA&gt;  3.0</span></span>
<span><span class="co">#&gt; 7   7 &lt;NA&gt;  &lt;NA&gt;  3.5</span></span>
<span><span class="co">#&gt; 8   8 &lt;NA&gt;  &lt;NA&gt;  4.0</span></span>
<span><span class="co">#&gt; 9   9 &lt;NA&gt;  &lt;NA&gt;  4.5</span></span>
<span><span class="co">#&gt; 10 10 &lt;NA&gt;  &lt;NA&gt;  5.0</span></span></code></pre></div>
<p>Let’s now perform a call to <code><a href="../reference/select_nodes.html">select_nodes()</a></code> that contains
both an expression for the <code>conditions</code> argument, and, a
range of node ID values in the <code>nodes</code> argument.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select from a subset of nodes</span></span>
<span><span class="co"># (given as `nodes = 1:6`) where</span></span>
<span><span class="co"># the `data` value is greater than `1.5`</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_nodes.html">select_nodes</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="va">data</span> <span class="op">&gt;</span> <span class="fl">1.5</span>,</span>
<span>    nodes <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">6</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of nodes as a table</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label data</span></span>
<span><span class="co">#&gt; 1  4 &lt;NA&gt;  &lt;NA&gt;  2.0</span></span>
<span><span class="co">#&gt; 2  5 &lt;NA&gt;  &lt;NA&gt;  2.5</span></span>
<span><span class="co">#&gt; 3  6 &lt;NA&gt;  &lt;NA&gt;  3.0</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="creating-an-edge-selection">Creating an Edge Selection<a class="anchor" aria-label="anchor" href="#creating-an-edge-selection"></a>
</h2>
<p>Selecting edges in a graph is done in a manner quite similar to
selecting nodes. The primary means for targeting a specific edges is
through any available edge attributes (e.g., <code>rel</code>, styling
attributes such as <code>color</code>, or arbitrary data values
available for edges).</p>
<p>We will start by creating a graph with four nodes and four edges. The
edges will have an edge attribute called <code>data</code> that contains
numeric values.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a node data frame</span></span>
<span><span class="va">ndf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_node_df.html">create_node_df</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create an edge data frame</span></span>
<span><span class="va">edf</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_edge_df.html">create_edge_df</a></span><span class="op">(</span></span>
<span>    from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>,</span>
<span>      to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">1</span><span class="op">)</span>,</span>
<span>    data <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>      <span class="fl">8.6</span>, <span class="fl">2.8</span>, <span class="fl">6.3</span>, <span class="fl">4.5</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Create a new graph from</span></span>
<span><span class="co"># the NDF and EDF</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span></span>
<span>    nodes_df <span class="op">=</span> <span class="va">ndf</span>,</span>
<span>    edges_df <span class="op">=</span> <span class="va">edf</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Inspect the graph's EDF</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id from to  rel data</span></span>
<span><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></span>
<span><span class="co">#&gt; 2  2    2  3 &lt;NA&gt;  2.8</span></span>
<span><span class="co">#&gt; 3  3    3  4 &lt;NA&gt;  6.3</span></span>
<span><span class="co">#&gt; 4  4    4  1 &lt;NA&gt;  4.5</span></span></code></pre></div>
<p>The following example shows how to create selections of edges based
on a logical expression operating on a collection of numeric values in
the <code>data</code> attribute.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select edges where the `data`</span></span>
<span><span class="co"># attribute has a value</span></span>
<span><span class="co"># greater than 5.0</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_edges.html">select_edges</a></span><span class="op">(</span></span>
<span>    conditions <span class="op">=</span> <span class="va">data</span> <span class="op">&gt;</span> <span class="fl">5.0</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the graph's current selection</span></span>
<span><span class="co"># of edges as a table</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_edge_df_ws.html">get_edge_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id from to  rel data</span></span>
<span><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></span>
<span><span class="co">#&gt; 2  3    3  4 &lt;NA&gt;  6.3</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="selecting-the-last-node-or-edge-in-an-ndf-or-edf">Selecting the Last Node or Edge in an NDF or EDF<a class="anchor" aria-label="anchor" href="#selecting-the-last-node-or-edge-in-an-ndf-or-edf"></a>
</h2>
<p>You can select the last node or edge from the graph’s internal node
data frame (NDF) or internal edge data frame (EDF), respectively.
Usually, this will be the last node or edge created since new nodes or
edges are added to the bottom of the data frame and there is no
shuffling of these positions. Immediately after creating a single node
or edge, calling either the <code>select_last_node()</code> or the
<code>select_last_edge()</code> functions will result in a selection of
the last node or edge created.</p>
<p>For both functions, <code>graph</code> is the only argument. If we
provide a graph object to <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> we
will get an active selection of nodes (the last nodes that were added to
the graph object). Likewise, the
<code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> will create an active selection
of edges, whichever edges were last defined in a function call.</p>
<p>To begin, we’ll use the same graph as before but we’ll clear any
active selection using the <code><a href="../reference/clear_selection.html">clear_selection()</a></code> function. To
ensure that there is no active selection of nodes or edges, we can use
the <code><a href="../reference/get_selection.html">get_selection()</a></code> function. A value of <code>NA</code>
means that there is neither a selection of nodes nor edges.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clear the graph's selection</span></span>
<span><span class="va">graph</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check whether there is still</span></span>
<span><span class="co"># a selection present</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] NA</span></span></code></pre></div>
<p>If we use <code>select_last_nodes_created</code> on this graph, we
find that the active selection of nodes contains all the nodes in the
graph, as they were all produced in the <code><a href="../reference/create_graph.html">create_graph()</a></code>
function (and no nodes were added in subsequent operations).</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the last node in the graph's NDF and confirm</span></span>
<span><span class="co"># that the selection was made</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/get_node_df_ws.html">get_node_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label</span></span>
<span><span class="co">#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3  3 &lt;NA&gt;  &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4  4 &lt;NA&gt;  &lt;NA&gt;</span></span></code></pre></div>
<p>The same goes for the edges. Using
<code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> will make a selection of edges
that includes all edges in the graph.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Select the last edge in the graph's EDF and confirm</span></span>
<span><span class="co"># that the selection was made</span></span>
<span><span class="va">graph</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_last_edges_created.html">select_last_edges_created</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/get_edge_df_ws.html">get_edge_df_ws</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id from to  rel data</span></span>
<span><span class="co">#&gt; 1  1    1  2 &lt;NA&gt;  8.6</span></span>
<span><span class="co">#&gt; 2  2    2  3 &lt;NA&gt;  2.8</span></span>
<span><span class="co">#&gt; 3  3    3  4 &lt;NA&gt;  6.3</span></span>
<span><span class="co">#&gt; 4  4    4  1 &lt;NA&gt;  4.5</span></span></code></pre></div>
<p>Where these functions become useful is during the building up of a
graph in multiple steps. In this next example, we will start with an
empty graph (using <code><a href="../reference/create_graph.html">create_graph()</a></code> by itself) then add a
single node with <code><a href="../reference/add_node.html">add_node()</a></code>, and then select that very node
with <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code>. This
selection-in-a-pipeline approach makes it easy to set node attributes
because we can use the <code><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws()</a></code> function. In
this example, we’re adding a new <code>timestamp</code> attribute and
assigning a value (the system time). Because the selection is
persistent, we can set more attributes in further calls to
<code><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws()</a></code>. When we are done with this node
selection, we call the <code><a href="../reference/clear_selection.html">clear_selection()</a></code> function and
return to a clean slate of no active selection present (it removes any
node or edge selection from the graph object). The example proceeds to
create another new node and adding attributes, and then a new edge and
edge attributes (with <code><a href="../reference/set_edge_attrs_ws.html">set_edge_attrs_ws()</a></code>). This is all
facilitated with the <code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> and
<code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> functions.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a graph, node-by-node and</span></span>
<span><span class="co"># edge-by-edge and add attributes</span></span>
<span><span class="va">graph_2</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="../reference/create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_node.html">add_node</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span><span class="op">(</span></span>
<span>    node_attr <span class="op">=</span> <span class="st">"timestamp"</span>,</span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span><span class="op">(</span></span>
<span>    node_attr <span class="op">=</span> <span class="st">"type"</span>,</span>
<span>    value <span class="op">=</span> <span class="st">"A"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_node.html">add_node</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_last_nodes_created.html">select_last_nodes_created</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span><span class="op">(</span></span>
<span>    node_attr <span class="op">=</span> <span class="st">"timestamp"</span>,</span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_node_attrs_ws.html">set_node_attrs_ws</a></span><span class="op">(</span></span>
<span>    node_attr <span class="op">=</span> <span class="st">"type"</span>,</span>
<span>    value <span class="op">=</span> <span class="st">"B"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/add_edge.html">add_edge</a></span><span class="op">(</span></span>
<span>    from <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    to <span class="op">=</span> <span class="fl">2</span>,</span>
<span>    rel <span class="op">=</span> <span class="st">"AB"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/select_last_edges_created.html">select_last_edges_created</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/set_edge_attrs_ws.html">set_edge_attrs_ws</a></span><span class="op">(</span></span>
<span>    edge_attr <span class="op">=</span> <span class="st">"timestamp"</span>,</span>
<span>    value <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the new graph</span></span>
<span><span class="va">graph_2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/render_graph.html">render_graph</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9d6836b3a41d7c8deec4" style="width:700px;height:432.632880098888px;"></div>
<script type="application/json" data-for="htmlwidget-9d6836b3a41d7c8deec4">{"x":{"diagram":"digraph {\n\ngraph [layout = \"neato\",\n       outputorder = \"edgesfirst\",\n       bgcolor = \"white\"]\n\nnode [fontname = \"Helvetica\",\n      fontsize = \"10\",\n      shape = \"circle\",\n      fixedsize = \"true\",\n      width = \"0.5\",\n      style = \"filled\",\n      fillcolor = \"aliceblue\",\n      color = \"gray70\",\n      fontcolor = \"gray50\"]\n\nedge [fontname = \"Helvetica\",\n     fontsize = \"8\",\n     len = \"1.5\",\n     color = \"gray80\",\n     arrowsize = \"0.5\"]\n\n  \"1\" [fillcolor = \"#F0F8FF\", fontcolor = \"#000000\"] \n  \"2\" [fillcolor = \"#F0F8FF\", fontcolor = \"#000000\"] \n  \"1\"->\"2\" \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script><p>The graph shows two nodes connected together. Nothing more, nothing
less. The more interesting views of the data are of the node and edge
data frames, which now have several attributes set. Let’s have a look at
the graph’s internal node data frame…</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect the new graph's NDF</span></span>
<span><span class="va">graph_2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id type label                  timestamp</span></span>
<span><span class="co">#&gt; 1  1    A  &lt;NA&gt; 2023-05-19 16:34:31.193425</span></span>
<span><span class="co">#&gt; 2  2    B  &lt;NA&gt; 2023-05-19 16:34:31.224806</span></span></code></pre></div>
<p>…and let’s inspect the graph’s internal edge data frame.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Inspect the new graph's EDF</span></span>
<span><span class="va">graph_2</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="../reference/get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id from to rel                  timestamp</span></span>
<span><span class="co">#&gt; 1  1    1  2  AB 2023-05-19 16:34:31.256322</span></span></code></pre></div>
<p>As can be seen, immediately invoking
<code><a href="../reference/select_last_nodes_created.html">select_last_nodes_created()</a></code> or
<code><a href="../reference/select_last_edges_created.html">select_last_edges_created()</a></code> after addition of new nodes or
edges can be useful for working with the newly made nodes/edges. Many
functions ending with <code>_ws()</code> operate specifically on
selections of nodes or edges.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Richard Iannone.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
