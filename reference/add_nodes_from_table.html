<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add nodes and attributes to graph from a table — add_nodes_from_table • DiagrammeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add nodes and attributes to graph from a table — add_nodes_from_table"><meta name="description" content="Add nodes and their attributes to an existing graph object from data in a CSV
file or a data frame."><meta property="og:description" content="Add nodes and their attributes to an existing graph object from data in a CSV
file or a data frame."><meta property="og:image" content="https://rich-iannone.github.io/DiagrammeR/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DiagrammeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.11.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a></li>
    <li><a class="dropdown-item" href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a></li>
    <li><a class="dropdown-item" href="../articles/selections.html">Selections</a></li>
    <li><a class="dropdown-item" href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a></li>
    <li><a class="dropdown-item" href="../articles/traversals.html">Traversals</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rich-iannone/DiagrammeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Add nodes and attributes to graph from a table</h1>
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/main/R/add_nodes_from_table.R" class="external-link"><code>R/add_nodes_from_table.R</code></a></small>
      <div class="d-none name"><code>add_nodes_from_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add nodes and their attributes to an existing graph object from data in a CSV
file or a data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_nodes_from_table</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  <span class="va">table</span>,</span>
<span>  label_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  type_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  set_type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_cols <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>A graph object of class <code>dgr_graph</code>.</p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>Either a path to a CSV file, or, a data frame object.</p></dd>


<dt id="arg-label-col">label_col<a class="anchor" aria-label="anchor" href="#arg-label-col"></a></dt>
<dd><p>An option to apply a column of data in the table as <code>label</code>
attribute values.</p></dd>


<dt id="arg-type-col">type_col<a class="anchor" aria-label="anchor" href="#arg-type-col"></a></dt>
<dd><p>An option to apply a column of data in the table as <code>type</code>
attribute values.</p></dd>


<dt id="arg-set-type">set_type<a class="anchor" aria-label="anchor" href="#arg-set-type"></a></dt>
<dd><p>An optional string to apply a <code>type</code> attribute to all nodes
created from data in the external table.</p></dd>


<dt id="arg-drop-cols">drop_cols<a class="anchor" aria-label="anchor" href="#arg-drop-cols"></a></dt>
<dd><p>An optional column selection statement for dropping columns
from the external table before inclusion as attributes in the graph's
internal node data frame. Several columns can be dropped by name using the
syntax <code>col_1 &amp; col_2 &amp; ...</code>. Columns can also be dropped using a numeric
column range with <code>:</code> (e.g., <code>5:8</code>), or, by using the <code>:</code> between column
names to specify the range (e.g., <code>col_5_name:col_8_name</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A graph object of class <code>dgr_graph</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other node creation and removal:
<code><a href="add_n_node_clones.html">add_n_node_clones</a>()</code>,
<code><a href="add_n_nodes.html">add_n_nodes</a>()</code>,
<code><a href="add_n_nodes_ws.html">add_n_nodes_ws</a>()</code>,
<code><a href="add_node.html">add_node</a>()</code>,
<code><a href="add_node_clones_ws.html">add_node_clones_ws</a>()</code>,
<code><a href="add_node_df.html">add_node_df</a>()</code>,
<code><a href="add_nodes_from_df_cols.html">add_nodes_from_df_cols</a>()</code>,
<code><a href="colorize_node_attrs.html">colorize_node_attrs</a>()</code>,
<code><a href="copy_node_attrs.html">copy_node_attrs</a>()</code>,
<code><a href="create_node_df.html">create_node_df</a>()</code>,
<code><a href="delete_node.html">delete_node</a>()</code>,
<code><a href="delete_nodes_ws.html">delete_nodes_ws</a>()</code>,
<code><a href="drop_node_attrs.html">drop_node_attrs</a>()</code>,
<code><a href="join_node_attrs.html">join_node_attrs</a>()</code>,
<code><a href="layout_nodes_w_string.html">layout_nodes_w_string</a>()</code>,
<code><a href="mutate_node_attrs.html">mutate_node_attrs</a>()</code>,
<code><a href="mutate_node_attrs_ws.html">mutate_node_attrs_ws</a>()</code>,
<code><a href="node_data.html">node_data</a>()</code>,
<code><a href="recode_node_attrs.html">recode_node_attrs</a>()</code>,
<code><a href="rename_node_attrs.html">rename_node_attrs</a>()</code>,
<code><a href="rescale_node_attrs.html">rescale_node_attrs</a>()</code>,
<code><a href="set_node_attr_to_display.html">set_node_attr_to_display</a>()</code>,
<code><a href="set_node_attr_w_fcn.html">set_node_attr_w_fcn</a>()</code>,
<code><a href="set_node_attrs.html">set_node_attrs</a>()</code>,
<code><a href="set_node_attrs_ws.html">set_node_attrs_ws</a>()</code>,
<code><a href="set_node_position.html">set_node_position</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># To add nodes from the dataset called</span></span></span>
<span class="r-in"><span><span class="co"># `currencies` (available as a dataset</span></span></span>
<span class="r-in"><span><span class="co"># in the package), call the</span></span></span>
<span class="r-in"><span><span class="co"># `add_nodes_from_table()` function</span></span></span>
<span class="r-in"><span><span class="co"># after creating an empty graph; new</span></span></span>
<span class="r-in"><span><span class="co"># node ID values will be created as</span></span></span>
<span class="r-in"><span><span class="co"># monotonically-increasing values</span></span></span>
<span class="r-in"><span><span class="va">graph_1</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_nodes_from_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>    table <span class="op">=</span> <span class="va">currencies</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View part of the graph's internal</span></span></span>
<span class="r-in"><span><span class="co"># node data frame (ndf)</span></span></span>
<span class="r-in"><span><span class="va">graph_1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="va">.</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id type label iso_4217_code curr_number</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1 &lt;NA&gt;  &lt;NA&gt;           AED         784</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 &lt;NA&gt;  &lt;NA&gt;           AFN         971</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3 &lt;NA&gt;  &lt;NA&gt;           ALL           8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4 &lt;NA&gt;  &lt;NA&gt;           AMD          51</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5 &lt;NA&gt;  &lt;NA&gt;           ANG         532</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  6 &lt;NA&gt;  &lt;NA&gt;           AOA         973</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you would like to assign</span></span></span>
<span class="r-in"><span><span class="co"># any of the table's columns as</span></span></span>
<span class="r-in"><span><span class="co"># `type` or `label` attributes,</span></span></span>
<span class="r-in"><span><span class="co"># this can be done with the `type_col`</span></span></span>
<span class="r-in"><span><span class="co"># and `label_col` arguments; to set</span></span></span>
<span class="r-in"><span><span class="co"># a static `type` attribute for all</span></span></span>
<span class="r-in"><span><span class="co"># of the table records, use `set_type`</span></span></span>
<span class="r-in"><span><span class="va">graph_2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_nodes_from_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>    table <span class="op">=</span> <span class="va">currencies</span>,</span></span>
<span class="r-in"><span>    label_col <span class="op">=</span> <span class="va">iso_4217_code</span>,</span></span>
<span class="r-in"><span>    set_type <span class="op">=</span> <span class="va">currency</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View part of the graph's internal ndf</span></span></span>
<span class="r-in"><span><span class="va">graph_2</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="va">.</span><span class="op">[</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id     type label curr_number exponent</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1 currency   AED         784        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 currency   AFN         971        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3 currency   ALL           8        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4 currency   AMD          51        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5 currency   ANG         532        2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  6 currency   AOA         973        2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Suppose we would like to not</span></span></span>
<span class="r-in"><span><span class="co"># include certain columns from the</span></span></span>
<span class="r-in"><span><span class="co"># external table in the resulting</span></span></span>
<span class="r-in"><span><span class="co"># graph; we can use the `drop_cols`</span></span></span>
<span class="r-in"><span><span class="co"># argument to choose which columns</span></span></span>
<span class="r-in"><span><span class="co"># to not include as attributes</span></span></span>
<span class="r-in"><span><span class="va">graph_3</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">add_nodes_from_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>    table <span class="op">=</span> <span class="va">currencies</span>,</span></span>
<span class="r-in"><span>    label_col <span class="op">=</span> <span class="va">iso_4217_code</span>,</span></span>
<span class="r-in"><span>    set_type <span class="op">=</span> <span class="va">currency</span>,</span></span>
<span class="r-in"><span>    drop_cols <span class="op">=</span> <span class="va">exponent</span> <span class="op">&amp;</span> <span class="va">currency_name</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the node attribute names</span></span></span>
<span class="r-in"><span><span class="co"># for the graph; note that the</span></span></span>
<span class="r-in"><span><span class="co"># `exponent` and `currency_name`</span></span></span>
<span class="r-in"><span><span class="co"># columns are not attributes in the</span></span></span>
<span class="r-in"><span><span class="co"># graph's internal node data frame</span></span></span>
<span class="r-in"><span><span class="va">graph_3</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "id"          "type"        "label"       "curr_number"</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Olivier Roy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

