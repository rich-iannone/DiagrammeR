<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="From a graph object of class dgr_graph with an active selection of edges
move with the edge direction to connected nodes, replacing the current edges
in the selection with those nodes traversed to. An optional filter by node
attribute can limit the set of nodes traversed to.
This traversal function makes use of an active selection of edges. After the
traversal, depending on the traversal conditions, there will either be a
selection of nodes or no selection at all.
Selections of edges can be performed using the following selection
(select_*()) functions: select_edges(), select_last_edges_created(),
select_edges_by_edge_id(), or select_edges_by_node_id().
Selections of edges can also be performed using the following traversal
(trav_*()) functions: trav_out_edge(), trav_in_edge(),
trav_both_edge(), or trav_reverse_edge()."><title>Traverse from one or more selected edges onto adjacent, inward nodes — trav_in_node • DiagrammeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Traverse from one or more selected edges onto adjacent, inward nodes — trav_in_node"><meta property="og:description" content="From a graph object of class dgr_graph with an active selection of edges
move with the edge direction to connected nodes, replacing the current edges
in the selection with those nodes traversed to. An optional filter by node
attribute can limit the set of nodes traversed to.
This traversal function makes use of an active selection of edges. After the
traversal, depending on the traversal conditions, there will either be a
selection of nodes or no selection at all.
Selections of edges can be performed using the following selection
(select_*()) functions: select_edges(), select_last_edges_created(),
select_edges_by_edge_id(), or select_edges_by_node_id().
Selections of edges can also be performed using the following traversal
(trav_*()) functions: trav_out_edge(), trav_in_edge(),
trav_both_edge(), or trav_reverse_edge()."><meta property="og:image" content="https://rich-iannone.github.io/DiagrammeR/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DiagrammeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.11</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a>
    <a class="dropdown-item" href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a>
    <a class="dropdown-item" href="../articles/selections.html">Selections</a>
    <a class="dropdown-item" href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a>
    <a class="dropdown-item" href="../articles/traversals.html">Traversals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rich-iannone/DiagrammeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Traverse from one or more selected edges onto adjacent, inward nodes</h1>
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/HEAD/R/trav_in_node.R" class="external-link"><code>R/trav_in_node.R</code></a></small>
      <div class="d-none name"><code>trav_in_node.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>From a graph object of class <code>dgr_graph</code> with an active selection of edges
move with the edge direction to connected nodes, replacing the current edges
in the selection with those nodes traversed to. An optional filter by node
attribute can limit the set of nodes traversed to.</p>
<p>This traversal function makes use of an active selection of edges. After the
traversal, depending on the traversal conditions, there will either be a
selection of nodes or no selection at all.</p>
<p>Selections of edges can be performed using the following selection
(<code>select_*()</code>) functions: <code><a href="select_edges.html">select_edges()</a></code>, <code><a href="select_last_edges_created.html">select_last_edges_created()</a></code>,
<code><a href="select_edges_by_edge_id.html">select_edges_by_edge_id()</a></code>, or <code><a href="select_edges_by_node_id.html">select_edges_by_node_id()</a></code>.</p>
<p>Selections of edges can also be performed using the following traversal
(<code>trav_*()</code>) functions: <code><a href="trav_out_edge.html">trav_out_edge()</a></code>, <code><a href="trav_in_edge.html">trav_in_edge()</a></code>,
<code><a href="trav_both_edge.html">trav_both_edge()</a></code>, or <code><a href="trav_reverse_edge.html">trav_reverse_edge()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">trav_in_node</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  conditions <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  copy_attrs_from <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  copy_attrs_as <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  agg <span class="op">=</span> <span class="st">"sum"</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graph</dt>
<dd><p>A graph object of class <code>dgr_graph</code>.</p></dd>


<dt>conditions</dt>
<dd><p>An option to use filtering conditions for the traversal.</p></dd>


<dt>copy_attrs_from</dt>
<dd><p>Providing an edge attribute name will copy those edge
attribute values to the traversed nodes. If the edge attribute already
exists, the values will be merged to the traversed nodes; otherwise, a new
node attribute will be created.</p></dd>


<dt>copy_attrs_as</dt>
<dd><p>If an edge attribute name is provided in
<code>copy_attrs_from</code>, this option will allow the copied attribute values to be
written under a different node attribute name. If the attribute name
provided in <code>copy_attrs_as</code> does not exist in the graph's ndf, the new node
attribute will be created with the chosen name.</p></dd>


<dt>agg</dt>
<dd><p>If an edge attribute is provided to <code>copy_attrs_from</code>, then an
aggregation function is required since there may be cases where multiple
edge attribute values will be passed onto the traversed node(s). To pass
only a single value, the following aggregation functions can be used:
<code>sum</code>, <code>min</code>, <code>max</code>, <code>mean</code>, or <code>median</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A graph object of class <code>dgr_graph</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Set a seed</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">RNGversion</a></span><span class="op">(</span><span class="st">"3.5.0"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">23</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a simple graph</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_n_nodes.html">add_n_nodes</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="st">"a"</span>,</span></span>
<span class="r-in"><span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"asd"</span>, <span class="st">"iekd"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_n_nodes.html">add_n_nodes</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>    type <span class="op">=</span> <span class="st">"b"</span>,</span></span>
<span class="r-in"><span>    label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"idj"</span>, <span class="st">"edl"</span>, <span class="st">"ohd"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_edges_w_string.html">add_edges_w_string</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    edges <span class="op">=</span> <span class="st">"1-&gt;2 1-&gt;3 2-&gt;4 2-&gt;5 3-&gt;5"</span>,</span></span>
<span class="r-in"><span>    rel <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>, <span class="st">"D"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a data frame with node ID values</span></span></span>
<span class="r-in"><span><span class="co"># representing the graph edges (with `from`</span></span></span>
<span class="r-in"><span><span class="co"># and `to` columns), and, a set of numeric values</span></span></span>
<span class="r-in"><span><span class="va">df_edges</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a data frame with node ID values</span></span></span>
<span class="r-in"><span><span class="co"># representing the graph nodes (with the `id`</span></span></span>
<span class="r-in"><span><span class="co"># columns), and, a set of numeric values</span></span></span>
<span class="r-in"><span><span class="va">df_nodes</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">5</span>,</span></span>
<span class="r-in"><span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">7</span><span class="op">)</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Join the data frame to the graph's internal</span></span></span>
<span class="r-in"><span><span class="co"># edge data frame (edf)</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="join_edge_attrs.html">join_edge_attrs</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">df_edges</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="join_node_attrs.html">join_node_attrs</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">df_nodes</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the graph's internal node data frame</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id type label values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    a   asd   8.58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2    a  iekd   7.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3    b   idj   5.95</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4    b   edl   6.71</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5    b   ohd   7.48</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the graph's internal edge data frame</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id from to  rel values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    1  2 &lt;NA&gt;   6.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2    1  3    A   6.11</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3    2  4    B   4.72</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4    2  5    C   6.02</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5    3  5    D   5.05</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Perform a simple traversal from the</span></span></span>
<span class="r-in"><span><span class="co"># edge `1`-&gt;`3` to the attached node</span></span></span>
<span class="r-in"><span><span class="co"># in the direction of the edge; here, no</span></span></span>
<span class="r-in"><span><span class="co"># conditions are placed on the nodes</span></span></span>
<span class="r-in"><span><span class="co"># traversed to</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Traverse from edges `2`-&gt;`5` and</span></span></span>
<span class="r-in"><span><span class="co"># `3`-&gt;`5` to the attached node along</span></span></span>
<span class="r-in"><span><span class="co"># the direction of the edge; both</span></span></span>
<span class="r-in"><span><span class="co"># traversals lead to the same node</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Traverse from the edge `1`-&gt;`3`</span></span></span>
<span class="r-in"><span><span class="co"># to the attached node where the edge</span></span></span>
<span class="r-in"><span><span class="co"># is incoming, this time filtering</span></span></span>
<span class="r-in"><span><span class="co"># numeric values greater than `5.0` for</span></span></span>
<span class="r-in"><span><span class="co"># the `values` node attribute</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span></span></span>
<span class="r-in"><span>    conditions <span class="op">=</span> <span class="va">values</span> <span class="op">&gt;</span> <span class="fl">5.0</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 3</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Traverse from the edge `1`-&gt;`3`</span></span></span>
<span class="r-in"><span><span class="co"># to the attached node where the edge</span></span></span>
<span class="r-in"><span><span class="co"># is incoming, this time filtering</span></span></span>
<span class="r-in"><span><span class="co"># numeric values less than `5.0` for</span></span></span>
<span class="r-in"><span><span class="co"># the `values` node attribute (the</span></span></span>
<span class="r-in"><span><span class="co"># condition is not met so the original</span></span></span>
<span class="r-in"><span><span class="co"># selection of edge `1` -&gt; `3` remains)</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span></span></span>
<span class="r-in"><span>    conditions <span class="op">=</span> <span class="va">values</span> <span class="op">&lt;</span> <span class="fl">5.0</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Traverse from the edge `1`-&gt;`2` to</span></span></span>
<span class="r-in"><span><span class="co"># the node `2` using multiple conditions</span></span></span>
<span class="r-in"><span><span class="co"># with a single-length vector</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    from <span class="op">=</span> <span class="fl">1</span>,</span></span>
<span class="r-in"><span>    to <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span></span></span>
<span class="r-in"><span>    conditions <span class="op">=</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">".*d$"</span>, <span class="va">label</span><span class="op">)</span> <span class="op">|</span></span></span>
<span class="r-in"><span>      <span class="va">values</span> <span class="op">&lt;</span> <span class="fl">6.0</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_selection.html">get_selection</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create another simple graph to demonstrate</span></span></span>
<span class="r-in"><span><span class="co"># copying of edge attribute values to traversed</span></span></span>
<span class="r-in"><span><span class="co"># nodes</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_node.html">add_node</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_nodes.html">select_nodes</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_n_nodes_ws.html">add_n_nodes_ws</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>    direction <span class="op">=</span> <span class="st">"to"</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_nodes_by_id.html">select_nodes_by_id</a></span><span class="op">(</span>nodes <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_node_attrs_ws.html">set_node_attrs_ws</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    node_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges_by_edge_id.html">select_edges_by_edge_id</a></span><span class="op">(</span>edges <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_edge_attrs_ws.html">set_edge_attrs_ws</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    edge_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges_by_edge_id.html">select_edges_by_edge_id</a></span><span class="op">(</span>edges <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_edge_attrs_ws.html">set_edge_attrs_ws</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    edge_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    value <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="clear_selection.html">clear_selection</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="select_edges.html">select_edges</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the graph's internal edge data frame</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id from to  rel value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1    2  1 &lt;NA&gt;     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2    3  1 &lt;NA&gt;     5</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the graph's internal node data frame</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id type label value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1 &lt;NA&gt;  &lt;NA&gt;    NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 &lt;NA&gt;  &lt;NA&gt;     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3 &lt;NA&gt;  &lt;NA&gt;    NA</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Perform a traversal from the edges to</span></span></span>
<span class="r-in"><span><span class="co"># the central node (`1`) while also applying</span></span></span>
<span class="r-in"><span><span class="co"># the edge attribute `value` to the node (in</span></span></span>
<span class="r-in"><span><span class="co"># this case summing the `value` of 5 from</span></span></span>
<span class="r-in"><span><span class="co"># both edges before adding as a node attribute)</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">trav_in_node</span><span class="op">(</span></span></span>
<span class="r-in"><span>    copy_attrs_from <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    agg <span class="op">=</span> <span class="st">"sum"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Show the graph's internal node data frame</span></span></span>
<span class="r-in"><span><span class="co"># after this change</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="get_node_df.html">get_node_df</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id type label value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1 &lt;NA&gt;  &lt;NA&gt;    10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2 &lt;NA&gt;  &lt;NA&gt;     8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3 &lt;NA&gt;  &lt;NA&gt;    NA</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Richard Iannone, Olivier Roy.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

