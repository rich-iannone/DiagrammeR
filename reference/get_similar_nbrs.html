<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Get neighboring nodes based on node attribute similarity — get_similar_nbrs • DiagrammeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get neighboring nodes based on node attribute similarity — get_similar_nbrs"><meta name="description" content="With a graph a single node serving as the starting point, get those nodes in
a potential neighborhood of nodes (adjacent to the starting node) that have a
common or similar (within threshold values) node attribute to the starting
node."><meta property="og:description" content="With a graph a single node serving as the starting point, get those nodes in
a potential neighborhood of nodes (adjacent to the starting node) that have a
common or similar (within threshold values) node attribute to the starting
node."><meta property="og:image" content="https://rich-iannone.github.io/DiagrammeR/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">DiagrammeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.11.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a></li>
    <li><a class="dropdown-item" href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a></li>
    <li><a class="dropdown-item" href="../articles/selections.html">Selections</a></li>
    <li><a class="dropdown-item" href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a></li>
    <li><a class="dropdown-item" href="../articles/traversals.html">Traversals</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rich-iannone/DiagrammeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Get neighboring nodes based on node attribute similarity</h1>
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/main/R/get_similar_nbrs.R" class="external-link"><code>R/get_similar_nbrs.R</code></a></small>
      <div class="d-none name"><code>get_similar_nbrs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>With a graph a single node serving as the starting point, get those nodes in
a potential neighborhood of nodes (adjacent to the starting node) that have a
common or similar (within threshold values) node attribute to the starting
node.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_similar_nbrs</span><span class="op">(</span><span class="va">graph</span>, <span class="va">node</span>, <span class="va">node_attr</span>, tol_abs <span class="op">=</span> <span class="cn">NULL</span>, tol_pct <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-graph">graph<a class="anchor" aria-label="anchor" href="#arg-graph"></a></dt>
<dd><p>A graph object of class <code>dgr_graph</code>.</p></dd>


<dt id="arg-node">node<a class="anchor" aria-label="anchor" href="#arg-node"></a></dt>
<dd><p>A single-length vector containing a node ID value.</p></dd>


<dt id="arg-node-attr">node_attr<a class="anchor" aria-label="anchor" href="#arg-node-attr"></a></dt>
<dd><p>The name of the node attribute to use to compare with
adjacent nodes.</p></dd>


<dt id="arg-tol-abs">tol_abs<a class="anchor" aria-label="anchor" href="#arg-tol-abs"></a></dt>
<dd><p>If the values contained in the node attribute <code>node_attr</code> are
numeric, one can optionally supply a numeric vector of length 2 that
provides a lower and upper numeric bound as criteria for neighboring node
similarity to the starting node.</p></dd>


<dt id="arg-tol-pct">tol_pct<a class="anchor" aria-label="anchor" href="#arg-tol-pct"></a></dt>
<dd><p>If the values contained in the node attribute <code>node_attr</code> are
numeric, one can optionally supply a numeric vector of length 2 that
specifies lower and upper bounds as negative and positive percentage
changes to the value of the starting node. These bounds serve as criteria
for neighboring node similarity to the starting node.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A vector of node ID values.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Getting similar neighbors can</span></span></span>
<span class="r-in"><span><span class="co"># be done through numerical comparisons;</span></span></span>
<span class="r-in"><span><span class="co"># start by creating a random, directed</span></span></span>
<span class="r-in"><span><span class="co"># graph with 18 nodes and 22 edges</span></span></span>
<span class="r-in"><span><span class="co"># using the `add_gnm_graph()` function</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_gnm_graph.html">add_gnm_graph</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    n <span class="op">=</span> <span class="fl">18</span>,</span></span>
<span class="r-in"><span>    m <span class="op">=</span> <span class="fl">25</span>,</span></span>
<span class="r-in"><span>    set_seed <span class="op">=</span> <span class="fl">23</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="set_node_attrs.html">set_node_attrs</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    node_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      n <span class="op">=</span> <span class="fu"><a href="count_nodes.html">count_nodes</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      mean <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>      sd <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">0</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Starting with node `10`, we</span></span></span>
<span class="r-in"><span><span class="co"># can test whether any nodes</span></span></span>
<span class="r-in"><span><span class="co"># adjacent and beyond are</span></span></span>
<span class="r-in"><span><span class="co"># numerically equivalent in `value`</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">get_similar_nbrs</span><span class="op">(</span></span></span>
<span class="r-in"><span>    node <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    node_attr <span class="op">=</span> <span class="va">value</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  2 14</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># We can also set a tolerance</span></span></span>
<span class="r-in"><span><span class="co"># for ascribing similarly by using</span></span></span>
<span class="r-in"><span><span class="co"># either the `tol_abs` or `tol_pct`</span></span></span>
<span class="r-in"><span><span class="co"># arguments (the first applies absolute</span></span></span>
<span class="r-in"><span><span class="co"># lower and upper bounds from the</span></span></span>
<span class="r-in"><span><span class="co"># value in the starting node and the</span></span></span>
<span class="r-in"><span><span class="co"># latter uses a percentage difference</span></span></span>
<span class="r-in"><span><span class="co"># to do the same); try setting `tol_abs`</span></span></span>
<span class="r-in"><span><span class="co"># with a fairly large range to</span></span></span>
<span class="r-in"><span><span class="co"># determine if several nodes can be</span></span></span>
<span class="r-in"><span><span class="co"># selected</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">get_similar_nbrs</span><span class="op">(</span></span></span>
<span class="r-in"><span>    node <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    node_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    tol_abs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  1  2  9 14</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># That resulted in a fairly large</span></span></span>
<span class="r-in"><span><span class="co"># set of 4 neigboring nodes; for</span></span></span>
<span class="r-in"><span><span class="co"># sake of example, setting the range</span></span></span>
<span class="r-in"><span><span class="co"># to be very large will effectively</span></span></span>
<span class="r-in"><span><span class="co"># return all nodes in the graph</span></span></span>
<span class="r-in"><span><span class="co"># except for the starting node</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">get_similar_nbrs</span><span class="op">(</span></span></span>
<span class="r-in"><span>    node <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>    node_attr <span class="op">=</span> <span class="va">value</span>,</span></span>
<span class="r-in"><span>    tol_abs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 17</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Richard Iannone, Olivier Roy.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

