<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Add edges and their attributes to an existing graph object from data in a CSV
file or a data frame."><title>Add edges and attributes to graph from a table — add_edges_from_table • DiagrammeR</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add edges and attributes to graph from a table — add_edges_from_table"><meta property="og:description" content="Add edges and their attributes to an existing graph object from data in a CSV
file or a data frame."><meta property="og:image" content="https://rich-iannone.github.io/DiagrammeR/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">DiagrammeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.11.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/graphviz-mermaid.html">Graphviz and mermaid in DiagrammeR</a>
    <a class="dropdown-item" href="../articles/node-edge-data-frames.html">Node and Edge Data Frames</a>
    <a class="dropdown-item" href="../articles/selections.html">Selections</a>
    <a class="dropdown-item" href="../articles/simple-graphs-ndfs-edfs.html">Creating Simple Graphs from NDFs/EDFs</a>
    <a class="dropdown-item" href="../articles/traversals.html">Traversals</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rich-iannone/DiagrammeR/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Add edges and attributes to graph from a table</h1>
      <small class="dont-index">Source: <a href="https://github.com/rich-iannone/DiagrammeR/blob/HEAD/R/add_edges_from_table.R" class="external-link"><code>R/add_edges_from_table.R</code></a></small>
      <div class="d-none name"><code>add_edges_from_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Add edges and their attributes to an existing graph object from data in a CSV
file or a data frame.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_edges_from_table</span><span class="op">(</span></span>
<span>  <span class="va">graph</span>,</span>
<span>  <span class="va">table</span>,</span>
<span>  <span class="va">from_col</span>,</span>
<span>  <span class="va">to_col</span>,</span>
<span>  <span class="va">from_to_map</span>,</span>
<span>  rel_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  set_rel <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  drop_cols <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>graph</dt>
<dd><p>A graph object of class <code>dgr_graph</code>.</p></dd>


<dt>table</dt>
<dd><p>Either a path to a CSV file, or, a data frame object.</p></dd>


<dt>from_col</dt>
<dd><p>The name of the table column from which edges originate.</p></dd>


<dt>to_col</dt>
<dd><p>The name of the table column to which edges terminate.</p></dd>


<dt>from_to_map</dt>
<dd><p>A single character value for the mapping of the <code>from</code> and
<code>to</code> columns in the external table (supplied as <code>from_col</code> and <code>to_col</code>,
respectively) to a column in the graph's internal node data frame (ndf).</p></dd>


<dt>rel_col</dt>
<dd><p>An option to apply a column of data in the table as <code>rel</code>
attribute values.</p></dd>


<dt>set_rel</dt>
<dd><p>an optional string to apply a <code>rel</code> attribute to all edges
created from the table records.</p></dd>


<dt>drop_cols</dt>
<dd><p>An optional column selection statement for dropping columns
from the external table before inclusion as attributes in the graph's
internal edge data frame. Several columns can be dropped by name using the
syntax <code>col_1 &amp; col_2 &amp; ...</code>. Columns can also be dropped using a numeric
column range with <code>:</code> (e.g., <code>5:8</code>), or, by using the <code>:</code> between column
names to specify the range (e.g., <code>col_5_name:col_8_name</code>).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A graph object of class <code>dgr_graph</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other edge creation and removal: 
<code><a href="add_edge.html">add_edge</a>()</code>,
<code><a href="add_edge_clone.html">add_edge_clone</a>()</code>,
<code><a href="add_edge_df.html">add_edge_df</a>()</code>,
<code><a href="add_edges_w_string.html">add_edges_w_string</a>()</code>,
<code><a href="add_forward_edges_ws.html">add_forward_edges_ws</a>()</code>,
<code><a href="add_reverse_edges_ws.html">add_reverse_edges_ws</a>()</code>,
<code><a href="copy_edge_attrs.html">copy_edge_attrs</a>()</code>,
<code><a href="create_edge_df.html">create_edge_df</a>()</code>,
<code><a href="delete_edge.html">delete_edge</a>()</code>,
<code><a href="delete_edges_ws.html">delete_edges_ws</a>()</code>,
<code><a href="delete_loop_edges_ws.html">delete_loop_edges_ws</a>()</code>,
<code><a href="drop_edge_attrs.html">drop_edge_attrs</a>()</code>,
<code><a href="edge_data.html">edge_data</a>()</code>,
<code><a href="join_edge_attrs.html">join_edge_attrs</a>()</code>,
<code><a href="mutate_edge_attrs.html">mutate_edge_attrs</a>()</code>,
<code><a href="mutate_edge_attrs_ws.html">mutate_edge_attrs_ws</a>()</code>,
<code><a href="recode_edge_attrs.html">recode_edge_attrs</a>()</code>,
<code><a href="rename_edge_attrs.html">rename_edge_attrs</a>()</code>,
<code><a href="rescale_edge_attrs.html">rescale_edge_attrs</a>()</code>,
<code><a href="rev_edge_dir.html">rev_edge_dir</a>()</code>,
<code><a href="rev_edge_dir_ws.html">rev_edge_dir_ws</a>()</code>,
<code><a href="set_edge_attr_to_display.html">set_edge_attr_to_display</a>()</code>,
<code><a href="set_edge_attrs.html">set_edge_attrs</a>()</code>,
<code><a href="set_edge_attrs_ws.html">set_edge_attrs_ws</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Create an empty graph and then</span></span></span>
<span class="r-in"><span><span class="co"># add nodes to it from the</span></span></span>
<span class="r-in"><span><span class="co"># `currencies` dataset available</span></span></span>
<span class="r-in"><span><span class="co"># in the package</span></span></span>
<span class="r-in"><span><span class="va">graph</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="create_graph.html">create_graph</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="add_nodes_from_table.html">add_nodes_from_table</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    table <span class="op">=</span> <span class="va">currencies</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now we want to add edges to the</span></span></span>
<span class="r-in"><span><span class="co"># graph using an included dataset,</span></span></span>
<span class="r-in"><span><span class="co"># `usd_exchange_rates`, which has</span></span></span>
<span class="r-in"><span><span class="co"># exchange rates between USD and</span></span></span>
<span class="r-in"><span><span class="co"># many other currencies; the key</span></span></span>
<span class="r-in"><span><span class="co"># here is that the data in the</span></span></span>
<span class="r-in"><span><span class="co"># `from` and `to` columns in the</span></span></span>
<span class="r-in"><span><span class="co"># external table maps to graph</span></span></span>
<span class="r-in"><span><span class="co"># node data available in the</span></span></span>
<span class="r-in"><span><span class="co"># `iso_4217_code` column of the</span></span></span>
<span class="r-in"><span><span class="co"># graph's internal node data frame</span></span></span>
<span class="r-in"><span><span class="va">graph_1</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">add_edges_from_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>      table <span class="op">=</span> <span class="va">usd_exchange_rates</span>,</span></span>
<span class="r-in"><span>      from_col <span class="op">=</span> <span class="va">from_currency</span>,</span></span>
<span class="r-in"><span>      to_col <span class="op">=</span> <span class="va">to_currency</span>,</span></span>
<span class="r-in"><span>      from_to_map <span class="op">=</span> <span class="va">iso_4217_code</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View part of the graph's</span></span></span>
<span class="r-in"><span><span class="co"># internal edge data frame</span></span></span>
<span class="r-in"><span><span class="va">graph_1</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id from to  rel cost_unit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1  148  1 &lt;NA&gt;  0.272300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2  148  2 &lt;NA&gt;  0.015210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3  148  3 &lt;NA&gt;  0.008055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4  148  4 &lt;NA&gt;  0.002107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5  148  5 &lt;NA&gt;  0.565000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  6  148  6 &lt;NA&gt;  0.006058</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If you would like to assign</span></span></span>
<span class="r-in"><span><span class="co"># any of the table's columns as the</span></span></span>
<span class="r-in"><span><span class="co"># `rel` attribute, this can done</span></span></span>
<span class="r-in"><span><span class="co"># with the `rel_col` argument; to</span></span></span>
<span class="r-in"><span><span class="co"># set a static `rel` attribute for</span></span></span>
<span class="r-in"><span><span class="co"># all edges created, use `set_rel`</span></span></span>
<span class="r-in"><span><span class="va">graph_2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="va">graph</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>    <span class="fu">add_edges_from_table</span><span class="op">(</span></span></span>
<span class="r-in"><span>      table <span class="op">=</span> <span class="va">usd_exchange_rates</span>,</span></span>
<span class="r-in"><span>      from_col <span class="op">=</span> <span class="va">from_currency</span>,</span></span>
<span class="r-in"><span>      to_col <span class="op">=</span> <span class="va">to_currency</span>,</span></span>
<span class="r-in"><span>      from_to_map <span class="op">=</span> <span class="va">iso_4217_code</span>,</span></span>
<span class="r-in"><span>      set_rel <span class="op">=</span> <span class="st">"from_usd"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View part of the graph's internal</span></span></span>
<span class="r-in"><span><span class="co"># edge data frame (edf)</span></span></span>
<span class="r-in"><span><span class="va">graph_2</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="get_edge_df.html">get_edge_df</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   id from to      rel cost_unit</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1  148  1 from_usd  0.272300</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  2  148  2 from_usd  0.015210</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  3  148  3 from_usd  0.008055</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  4  148  4 from_usd  0.002107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  5  148  5 from_usd  0.565000</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  6  148  6 from_usd  0.006058</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Richard Iannone, Olivier Roy.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

