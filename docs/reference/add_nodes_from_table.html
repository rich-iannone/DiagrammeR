<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Add nodes and attributes to graph from a table — add_nodes_from_table • DiagrammeR</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">DiagrammeR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rich-iannone/DiagrammeR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Add nodes and attributes to graph from a table</h1>
    </div>

    
    <p>Add nodes and their attributes to an
existing graph object from data in a CSV file or a
data frame.</p>
    

    <pre class="usage"><span class='fu'>add_nodes_from_table</span>(<span class='no'>graph</span>, <span class='no'>table</span>, <span class='kw'>label_col</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>type_col</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>set_type</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>drop_cols</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>graph</th>
      <td><p>a graph object of class
<code>dgr_graph</code>.</p></td>
    </tr>
    <tr>
      <th>table</th>
      <td><p>either a path to a CSV file, or, a data
frame object.</p></td>
    </tr>
    <tr>
      <th>label_col</th>
      <td><p>an option to apply a column of data
in the table as <code>label</code> attribute values.</p></td>
    </tr>
    <tr>
      <th>type_col</th>
      <td><p>an option to apply a column of data
in the table as <code>type</code> attribute values.</p></td>
    </tr>
    <tr>
      <th>set_type</th>
      <td><p>an optional string to apply a
<code>type</code> attribute to all nodes created from data
in the external table.</p></td>
    </tr>
    <tr>
      <th>drop_cols</th>
      <td><p>an optional column selection
statement for dropping columns from the external
table before inclusion as attributes in the graph's
internal node data frame. Several columns can be
dropped by name using the syntax
<code>col_1 &amp; col_2 &amp; ...</code>. Columns can also be
dropped using a numeric column range with <code>:</code>
(e.g., <code>5:8</code>), or, by using the <code>:</code>
between column names to specify the range (e.g.,
<code>col_5_name:col_8_name</code>).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a graph object of class <code>dgr_graph</code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># To add nodes from the dataset called</span>
<span class='co'># `currencies` (available as a dataset</span>
<span class='co'># in the package), call the</span>
<span class='co'># `add_nodes_from_table()` function</span>
<span class='co'># after creating an empty graph; new</span>
<span class='co'># node ID values will be created as</span>
<span class='co'># monotonically-increasing values</span>
<span class='no'>graph_1</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='create_graph.html'>create_graph</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>add_nodes_from_table</span>(
    <span class='kw'>table</span> <span class='kw'>=</span> <span class='no'>currencies</span>)

<span class='co'># View part of the graph's internal</span>
<span class='co'># node data frame (ndf)</span>
<span class='no'>graph_1</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='get_node_df.html'>get_node_df</a></span>() <span class='kw'>%&gt;%</span>
  <span class='no'>.</span>[, <span class='fl'>1</span>:<span class='fl'>5</span>] <span class='kw'>%&gt;%</span>
  <span class='fu'>head</span>()</div><div class='output co'>#&gt;   id type label iso_4217_code curr_number
#&gt; 1  1 &lt;NA&gt;  &lt;NA&gt;           AED         784
#&gt; 2  2 &lt;NA&gt;  &lt;NA&gt;           AFN         971
#&gt; 3  3 &lt;NA&gt;  &lt;NA&gt;           ALL           8
#&gt; 4  4 &lt;NA&gt;  &lt;NA&gt;           AMD          51
#&gt; 5  5 &lt;NA&gt;  &lt;NA&gt;           ANG         532
#&gt; 6  6 &lt;NA&gt;  &lt;NA&gt;           AOA         973</div><div class='input'>
<span class='co'># If you would like to assign</span>
<span class='co'># any of the table's columns as</span>
<span class='co'># `type` or `label` attributes,</span>
<span class='co'># this can be done with the `type_col`</span>
<span class='co'># and `label_col` arguments; to set</span>
<span class='co'># a static `type` attribute for all</span>
<span class='co'># of the table records, use `set_type`</span>
<span class='no'>graph_2</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='create_graph.html'>create_graph</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>add_nodes_from_table</span>(
    <span class='kw'>table</span> <span class='kw'>=</span> <span class='no'>currencies</span>,
    <span class='kw'>label_col</span> <span class='kw'>=</span> <span class='no'>iso_4217_code</span>,
    <span class='kw'>set_type</span> <span class='kw'>=</span> <span class='no'>currency</span>)

<span class='co'># View part of the graph's internal ndf</span>
<span class='no'>graph_2</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='get_node_df.html'>get_node_df</a></span>() <span class='kw'>%&gt;%</span>
  <span class='no'>.</span>[, <span class='fl'>1</span>:<span class='fl'>5</span>] <span class='kw'>%&gt;%</span>
  <span class='fu'>head</span>()</div><div class='output co'>#&gt;   id     type label curr_number exponent
#&gt; 1  1 currency   AED         784        2
#&gt; 2  2 currency   AFN         971        2
#&gt; 3  3 currency   ALL           8        2
#&gt; 4  4 currency   AMD          51        2
#&gt; 5  5 currency   ANG         532        2
#&gt; 6  6 currency   AOA         973        2</div><div class='input'>
<span class='co'># Suppose we would like to not</span>
<span class='co'># include certain columns from the</span>
<span class='co'># external table in the resulting</span>
<span class='co'># graph; we can use the `drop_cols`</span>
<span class='co'># argument to choose which columns</span>
<span class='co'># to not include as attributes</span>
<span class='no'>graph_3</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='create_graph.html'>create_graph</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>add_nodes_from_table</span>(
    <span class='kw'>table</span> <span class='kw'>=</span> <span class='no'>currencies</span>,
    <span class='kw'>label_col</span> <span class='kw'>=</span> <span class='no'>iso_4217_code</span>,
    <span class='kw'>set_type</span> <span class='kw'>=</span> <span class='no'>currency</span>,
    <span class='kw'>drop_cols</span> <span class='kw'>=</span> <span class='no'>exponent</span> <span class='kw'>&amp;</span> <span class='no'>currency_name</span>)

<span class='co'># Show the node attribute names</span>
<span class='co'># for the graph; note that the</span>
<span class='co'># `exponent` and `currency_name`</span>
<span class='co'># columns are not attributes in the</span>
<span class='co'># graph's internal node data frame</span>
<span class='no'>graph_3</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='get_node_df.html'>get_node_df</a></span>() <span class='kw'>%&gt;%</span>
  <span class='fu'>colnames</span>()</div><div class='output co'>#&gt; [1] "id"          "type"        "label"       "curr_number"</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rich Iannone.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
